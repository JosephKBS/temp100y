new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <- new_data
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <- new_data
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
df_g <- data.frame( rbind(df_g_y, df_g_1, df_g_2, df_g_3, df_g_4, df_g_5, df_g_6, df_g_7, df_g_8, df_g_9,df_g_10,df_g_11, df_g_12, df_g_a) )
df_g <- as.data.frame(t(as.matrix(df_g)))
rownames(df_g)<-c()
colnames(df_g) <- c("year","jan","feb","mar","apr","may","june","july","aug","sep","oct","nov","dec","ave")
df_g <- df_g[1:139,]
head(df_g)
str(df_g)
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <- new_data
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
View(new_data)
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <- new_data[,1:3]
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
ridge <- 1# ew_data[,1:3]
ridge <-  ew_data[,1:3]
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <-  new_data[,1:3]
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge =  new_data
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
ridge <- ridge[,1:3]
View(ridge)
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
View(ridge)
library(ggrepel)
library(grid)
library(ggridges)
p1 <- ggplot(ridge[,1:3], aes(x=Temp, y = as.factor(Year),
fill = stat(x))) +
geom_density_ridges_gradient(scale = 40, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Mean.[F]", option = "A") +
xlim(-0.8, 1.5) +
theme_classic() +
labs(title = 'Increasing Mean Temperature',
subtitle="Changes in Global Monthly Mean Temperature",
#   caption="Source: NOAA National Climate Research Unit"
x="Mean Temperatures", y=" Years (1880-2018) ") +
theme(
#axis.text.x = element_blank(),
#axis.ticks.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.y = element_blank()) +
annotate(geom="text", x=1.3, y=10, label="1880",
color="black", size=5) +
annotate(geom="text", x=1.3, y=160, label="2018",
color="black", size=5)
p1
head( co2emi )
co2emi <- co2emi[30:,]
dim(co2emi)
co2emi <- co2emi[30:169,]
head( co2emi )
co2emi <- co2emi[31:169,]
head( co2emi )
co2emi <- read.csv("./data/annual-co2-emissions-per-country (1).csv")[22851:23019,3:4]
dim(co2emi)
co2emi <- co2emi[31:169,]
head( co2emi )
co2_scale <- scale(co2emi[,2])
co2 <- data.frame(  cbind( co2emi, co2_scale) )
colnames(co2) <- c("Year" ,"co2", "co2_scale")
head(co2)
co2_table <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for ( i in 1:12){
for(j in 1:12){
co2_table[i+(139)*(j-1), 1] <- co2[i,1]
co2_table[i+(139)*(j-1), 2] <- co2[i,2]
co2_table[i+(139)*(j-1), 3] <- co2[i,3]
}
}
head(co2_table)
head(co2_table)
colnames(co2_table) <- c("Year" ,"co2", "co2_scale")
p <- ggplot(ridge, aes(x=Year, y=stand, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$scale, col="Co2_Emission"), size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3, arrow = arrow(length = unit(2, "mm")), color="red", size=1.1
) +
annotate(geom = "text", x = 1950, y = 2.3, label = "Total Co2 Emission", hjust = "left", color="red")
p2
ridge_scale <- scale(ridge$Temp)
ridge_data <- data.frame(  cbind( ridge, ridge_scale) )
colnames(ridge_data) <- c("Year","Temp","Month","Scale")
p <- ggplot(ridge_data, aes(x=Year, y=stand, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$scale, col="Co2_Emission"), size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3, arrow = arrow(length = unit(2, "mm")), color="red", size=1.1
) +
annotate(geom = "text", x = 1950, y = 2.3, label = "Total Co2 Emission", hjust = "left", color="red")
p2
p <- ggplot(ridge_data, aes(x=Year, y=Scale, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$scale, col="Co2_Emission"), size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3, arrow = arrow(length = unit(2, "mm")), color="red", size=1.1
) +
annotate(geom = "text", x = 1950, y = 2.3, label = "Total Co2 Emission", hjust = "left", color="red")
p2
p <- ggplot(ridge_data, aes(x=Year, y=Scale, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$co2_scale, col="Co2_Emission"), size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3, arrow = arrow(length = unit(2, "mm")), color="red", size=1.1
) +
annotate(geom = "text", x = 1950, y = 2.3, label = "Total Co2 Emission", hjust = "left", color="red")
p2
head(ridge_data)
# ridge dataset scaling (monthly temp)
ridge <- ridge[1,3]
ridge_scale <- scale(ridge$Temp)
ridge_data <- data.frame(  cbind( ridge, ridge_scale) )
ridge <- ridge[1,3]
# ridge dataset scaling (monthly temp)
ridge <- ridge[,1:3]
df_g <- data.frame( glotemp )
df_g_y<- as.numeric(df_g[,1])
df_g_1<- as.numeric(df_g[,2])
df_g_2<- as.numeric(df_g[,3])
df_g_3<- as.numeric(df_g[,4])
df_g_4<- as.numeric(df_g[,5])
df_g_5<- as.numeric(df_g[,6])
df_g_6<- as.numeric(df_g[,7])
df_g_7<- as.numeric(df_g[,8])
df_g_8<- as.numeric(df_g[,9])
df_g_9<- as.numeric(df_g[,10])
df_g_10<- as.numeric(df_g[,11])
df_g_11<- as.numeric(df_g[,12])
df_g_12<- as.numeric(df_g[,13])
df_g_a<- as.numeric(df_g[,14])
df_g <- data.frame( rbind(df_g_y, df_g_1, df_g_2, df_g_3, df_g_4, df_g_5, df_g_6, df_g_7, df_g_8, df_g_9,df_g_10,df_g_11, df_g_12, df_g_a) )
df_g <- as.data.frame(t(as.matrix(df_g)))
rownames(df_g)<-c()
colnames(df_g) <- c("year","jan","feb","mar","apr","may","june","july","aug","sep","oct","nov","dec","ave")
df_g <- df_g[1:139,]
head(df_g)
str(df_g)
new_data <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for (i in 1:139){
for(j in 1:12){
new_data[i+(139)*(j-1), 1] <- 1879+i
new_data[i+(139)*(j-1), 2] <- df_g[i,j+1]
new_data[i+(139)*(11), 2] <- df_g[i, 12]
new_data[i+(139)*0,3] <- "jan"
new_data[i+(139)*1,3] <- "feb"
new_data[i+(139)*2,3] <- "mar"
new_data[i+(139)*3,3] <- "apr"
new_data[i+(139)*4,3] <- "may"
new_data[i+(139)*5,3] <- "jun"
new_data[i+(139)*6,3] <- "jul"
new_data[i+(139)*7,3] <- "aug"
new_data[i+(139)*8,3] <- "sep"
new_data[i+(139)*9,3] <- "oct"
new_data[i+(139)*10,3] <- "nov"
new_data[i+(139)*11,3] <- "dec"
}
}
ridge <-  new_data
ridge <- ridge[,1:3]
colnames(ridge) <- c("Year","Temp","Month")
ridge$year <- as.integer(ridge$Year)
ridge$temp <- as.numeric(ridge$Temp)
ridge$month <- as.factor(ridge$Month)
head(ridge)
str(ridge)
library(ggrepel)
library(grid)
library(ggridges)
p1 <- ggplot(ridge[,1:3], aes(x=Temp, y = as.factor(Year),
fill = stat(x))) +
geom_density_ridges_gradient(scale = 40, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Mean.[F]", option = "A") +
xlim(-0.8, 1.5) +
theme_classic() +
labs(title = 'Increasing Mean Temperature',
subtitle="Changes in Global Monthly Mean Temperature",
#   caption="Source: NOAA National Climate Research Unit"
x="Mean Temperatures", y=" Years (1880-2018) ") +
theme(
#axis.text.x = element_blank(),
#axis.ticks.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.y = element_blank()) +
annotate(geom="text", x=1.3, y=10, label="1880",
color="black", size=5) +
annotate(geom="text", x=1.3, y=160, label="2018",
color="black", size=5)
p1
dim(co2emi)
co2emi <- co2emi[31:169,] # from 1880 to 2018
head( co2emi )
#scaling co2 emission data
co2_scale <- scale(co2emi[,2])
co2 <- data.frame(  cbind( co2emi, co2_scale) )
colnames(co2) <- c("Year" ,"co2", "co2_scale")
head(co2)
co2_table <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for ( i in 1:12){
for(j in 1:12){
co2_table[i+(139)*(j-1), 1] <- co2[i,1]
co2_table[i+(139)*(j-1), 2] <- co2[i,2]
co2_table[i+(139)*(j-1), 3] <- co2[i,3]
}
}
head(co2_table)
colnames(co2_table) <- c("Year" ,"co2", "co2_scale")
# ridge dataset scaling (monthly temp)
ridge <- ridge[,1:3]
ridge_scale <- scale(ridge$Temp)
ridge_data <- data.frame(  cbind( ridge, ridge_scale) )
colnames(ridge_data) <- c("Year","Temp","Month","Scale")
head(ridge_data)
View(ridge_data)
p <- ggplot(ridge_data, aes(x=Year, y=Scale, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$co2_scale, col="Co2_Emission"), size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3, arrow = arrow(length = unit(2, "mm")), color="red", size=1.1
) +
annotate(geom = "text", x = 1950, y = 2.3, label = "Total Co2 Emission", hjust = "left", color="red")
p2
head(co2_table)
View(co2_table)
dim(co2emi)
co2emi <- co2emi[31:169,] # from 1880 to 2018
head( co2emi )
#scaling co2 emission data
co2_scale <- scale(co2emi[,2])
co2 <- data.frame(  cbind( co2emi, co2_scale) )
colnames(co2) <- c("Year" ,"co2", "co2_scale")
head(co2)
co2_table <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for ( i in 1:139){
for(j in 1:12){
co2_table[i+(139)*(j-1), 1] <- co2[i,1]
co2_table[i+(139)*(j-1), 2] <- co2[i,2]
co2_table[i+(139)*(j-1), 3] <- co2[i,3]
}
}
head(co2_table)
colnames(co2_table) <- c("Year" ,"co2", "co2_scale")
View(co2_table)
p <- ggplot(ridge_data, aes(x=Year, y=Scale, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$co2_scale, col="Co2_Emission"),
size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3,
arrow = arrow(length = unit(2, "mm")),
color="red", size=1.1
) +
annotate(geom = "text",
x = 1950, y = 2.3,
label = "Total Co2 Emission",
hjust = "left", color="red")
p2
View(co2_table)
View(co2)
co2emi <- read.csv("./data/annual-co2-emissions-per-country (1).csv")[22851:23019,3:4]
dim(co2emi)
co2emi <- co2emi[31:169,] # from 1880 to 2018
head( co2emi )
#scaling co2 emission data
co2_scale <- scale(co2emi[,2])
co2 <- data.frame(  cbind( co2emi, co2_scale) )
colnames(co2) <- c("Year" ,"co2", "co2_scale")
head(co2)
View(co2)
co2_table <- data.frame(matrix(NA, nrow=12*139, ncol=3 ))
for ( i in 1:139){
for(j in 1:12){
co2_table[i+(139)*(j-1), 1] <- co2[i,1]
co2_table[i+(139)*(j-1), 2] <- co2[i,2]
co2_table[i+(139)*(j-1), 3] <- co2[i,3]
}
}
View(co2_table)
head(co2_table)
colnames(co2_table) <- c("Year" ,"co2", "co2_scale")
# ridge dataset scaling (monthly temp)
ridge <- ridge[,1:3]
ridge_scale <- scale(ridge$Temp)
ridge_data <- data.frame(  cbind( ridge, ridge_scale) )
colnames(ridge_data) <- c("Year","Temp","Month","Scale")
head(ridge_data)
p <- ggplot(ridge_data, aes(x=Year, y=Scale, color=factor(Month))) +
geom_point() +
scale_colour_tableau(palette="Classic Purple-Gray 12") +
labs(title="Increasing Carbon Dioxide emission and global temperature",
subtitle="Total amount of carbon dioxide emission and Monthly Temperature anomaly compared to 1950-1980.",
x="Years", y="Temperature anomaly & co2 emission(Metric Ton, scaled)" ) + theme_classic()
p2 <- p + geom_line(aes(y=co2_table$co2_scale, col="Co2_Emission"),
size=1.5, color="#990000", label="Co2") +
annotate(
geom = "curve", x = 1970, y = 2,
xend = 1976, yend = 0.7,
curvature = .3,
arrow = arrow(length = unit(2, "mm")),
color="red", size=1.1
) +
annotate(geom = "text",
x = 1950, y = 2.3,
label = "Total Co2 Emission",
hjust = "left", color="red")
p2
ggarrange(p1, p2, widths = c(1.5,2))
library(ggarrange)
library(ggarrange)
library(ggpubr’)
library(ggpubr)
ggarrange(p1, p2, widths = c(1.5,2))
